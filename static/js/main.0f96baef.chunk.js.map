{"version":3,"sources":["store/loading.ts","store/todos.ts","store/reverse.ts","store/loaded.ts","store/index.ts","store/sort.ts","store/errorMessage.ts","helpers/api.ts","helpers/constants.ts","components/TodoList.tsx","components/Preloader.tsx","components/LoadButton.tsx","App.tsx","index.tsx"],"names":["setLoading","status","type","setTodos","todos","setReverseValue","setLoaded","isLoading","state","loading","getTodos","getErrorMessage","errorMessage","getReverseValue","isReverse","getSortType","sortType","isLoaded","loaded","rootReducer","combineReducers","action","filter","todo","id","message","store","createStore","composeWithDevTools","getDataFromServer","url","a","fetch","response","json","getTodosData","tasks","users","newTodos","map","task","user","find","userId","FILTER_BUTTONS","title","TodoList","dispatch","useDispatch","useSelector","sortedTodos","useMemo","reverse","Number","sort","b","name","localeCompare","completed","className","key","toString","onClick","setSortType","Icon","style","color","fontSize","Preloader","LoadButton","init","disabled","App","length","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f96baef.chunk.js","sourcesContent":["import { AnyAction } from 'redux';\n\nconst START_LOAD = 'START_LOAD';\n\nexport const setLoading = (status: boolean) => ({ type: START_LOAD, status });\n\nexport const loadReducer = (state = false, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOAD:\n      return !state;\n\n    default:\n      return state;\n  }\n}\n","import { AnyAction } from 'redux';\n\nconst SET_TODOS = 'SET_TODOS';\nconst DELETE_TODO = 'DELETE_TODO';\n\nexport const setTodos = (todos: Todo[]) => ({type: SET_TODOS, todos});\nexport const deleteTodo = (id: number) => ({type: DELETE_TODO, id});\n\nexport const todosReducer = (state = [] as Todo[], action: AnyAction) => {\n  switch(action.type) {\n    case SET_TODOS:\n      return action.todos;\n\n    case DELETE_TODO:\n      return state.filter(todo => todo.id !== action.id);\n\n    default: return state;\n  }\n}\n","import { AnyAction } from 'redux';\n\nconst REVERSE = 'REVERSE';\n\nexport const setReverseValue = (status: boolean) => ({ type: REVERSE, status });\n\nexport const reverseReducer = (state = false, action: AnyAction) => {\n  switch (action.type) {\n    case REVERSE:\n      return !state;\n\n    default:\n      return state;\n  }\n}\n","import { AnyAction } from 'redux';\n\nconst FINISH_LOAD = 'FINISH_LOAD';\n\nexport const setLoaded = (status: boolean) => ({ type: FINISH_LOAD, status });\n\nexport const loadedReducer = (state = false, action: AnyAction) => {\n  switch (action.type) {\n    case FINISH_LOAD:\n      return !state;\n\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { loadReducer } from './loading';\nimport { todosReducer } from './todos';\nimport { sortTypeReducer } from './sort';\nimport { reverseReducer } from './reverse';\nimport { loadedReducer }  from './loaded';\nimport { errorReducer } from './errorMessage';\n\n\nexport const isLoading = (state: RootState) => state.loading;\nexport const getTodos = (state: RootState) => state.todos;\nexport const getErrorMessage = (state: RootState) => state.errorMessage;\nexport const getReverseValue = (state: RootState) => state.isReverse;\nexport const getSortType = (state: RootState) => state.sortType;\nexport const isLoaded = (state: RootState) => state.loaded;\n\nexport type RootState = {\n  loading: boolean;\n  loaded: boolean;\n  sortType: string;\n  isReverse: boolean;\n  todos: Todo[],\n  errorMessage: string,\n};\n\nconst initialState: RootState = {\n  loading: false,\n  loaded: false,\n  sortType: 'id',\n  isReverse: false,\n  todos: [],\n  errorMessage: '',\n};\n\nconst rootReducer =  combineReducers({\n  loading: loadReducer,\n  loaded: loadedReducer,\n  todos: todosReducer,\n  sortType: sortTypeReducer,\n  isReverse: reverseReducer,\n  errorMessage: errorReducer,\n});\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(),\n);\n\nexport default store;\n","import { AnyAction } from 'redux';\n\nconst SORT_TYPE = 'SORT_TYPE';\n\nexport const setSortType = (sortType: string) => ({ type: SORT_TYPE, sortType });\n\nexport const sortTypeReducer = (state = 'id', action: AnyAction) => {\n  switch (action.type) {\n    case SORT_TYPE:\n      return action.sortType;\n\n    default:\n      return state;\n  }\n}\n","import { AnyAction } from 'redux';\n\nconst ERROR = 'ERROR';\n\nexport const setErrorMessage = (message: string) => ({ type: ERROR, message });\n\nexport const errorReducer = (state = '', action: AnyAction) => {\n  switch (action.type) {\n    case ERROR:\n      return action.message;\n\n    default:\n      return state;\n  }\n}\n","const API_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api/';\nconst TODOS_URL = '/todos.json';\nconst USERS_URL = '/users.json';\n\nconst getDataFromServer = async (url: string) => {\n  const response = await fetch(`${API_URL}${url}`);\n\n  return response.json();\n};\n\nexport const getTodosData = async () => {\n  const tasks: Todo[] = await getDataFromServer(TODOS_URL);\n  const users: User[] = await getDataFromServer(USERS_URL);\n  const newTodos = tasks.map(task => ({\n      ...task,\n      user: users.find(user => user.id === task.userId),\n    }));\n\n  return newTodos;\n};\n","export const FILTER_BUTTONS: FilterButton[] = [\n  { id: 1, title: 'id'},\n  { id: 2, title: 'name'},\n  { id: 3, title: 'title'},\n  { id: 4, title: 'completed'},\n];\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getTodos, getSortType, getReverseValue } from '../store';\nimport { deleteTodo } from '../store/todos';\nimport { setSortType } from '../store/sort';\nimport { setReverseValue } from '../store/reverse';\nimport { FILTER_BUTTONS } from '../helpers/constants';\nimport Icon from '@material-ui/core/Icon';\n\n\nexport const TodoList: React.FC = () => {\n  const dispatch = useDispatch();\n  const todos: Todo[] = useSelector(getTodos);\n  const sortType: string = useSelector(getSortType);\n  const isReverse: boolean = useSelector(getReverseValue);\n\n  const handleClick = (type: string) => {\n    if(!type){\n      return;\n    }\n    if(type === sortType) {\n      dispatch(setReverseValue(!isReverse));\n    } else {\n      dispatch(setReverseValue(false));\n      dispatch(setSortType(type));\n    }\n  }\n\n  const sortedTodos = useMemo(() => {\n    const reverse = Number(isReverse) ? -1 : 1;\n\n    switch (sortType) {\n      case 'id':\n        return [...todos].sort((a, b) => (a.id - b.id) * reverse);\n\n      case 'name':\n        return [...todos].sort((a, b) => (a.user.name.localeCompare(b.user.name)) * reverse);\n\n\n      case 'title':\n        return [...todos].sort((a, b) => (a.title.localeCompare(b.title))* reverse);\n\n      case 'completed':\n        return [...todos].sort((a, b) => (Number(a.completed) - Number(b.completed))* reverse);\n\n        default: return todos;\n    }\n  }, [sortType, todos, isReverse]);\n\n  return (\n    <>\n      <div className=\"buttons_panel\">\n        {FILTER_BUTTONS.map(({ id, title }) => (\n          <button\n            type=\"button\"\n            key={id}\n            id={id.toString()}\n            onClick={() => handleClick(title)}\n          >\n            {title}\n          </button>\n        ))}\n      </div>\n      <ul>\n        {sortedTodos.map(todo => (\n          <li className=\"todo\" key={todo.id}>\n            <span>{todo.id}</span>\n            <span>{todo.user.name}</span>\n            <span>{todo.title}</span>\n            {todo.completed\n              ? (\n                <Icon\n                  style={{ color: `#709e0e` }}\n                  className=\"done\"\n                >\n                  done\n                </Icon>\n                )\n              : (<div></div>)\n            }\n            <span className=\"delete\">\n              <button\n                type=\"button\"\n                onClick={() => dispatch(deleteTodo(todo.id))}\n                className=\"delete-btn\"\n              >\n                <Icon fontSize=\"small\">delete</Icon>\n              </button>\n            </span>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import React from 'react';\n\nexport const Preloader = () => (\n  <div id=\"preloader\">\n    <div id=\"loader\"></div>\n  </div>\n)\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { isLoading } from '../store';\n\n\ntype Props = {\n  title: string;\n  init: () => void;\n};\n\nconst LoadButton: React.FC<Props> = ({ init, title }) => {\n\nconst loading = useSelector(isLoading);\n\n  return (\n    <button\n      className=\"start-btn\"\n      type=\"button\"\n      onClick={init}\n      disabled={loading}\n    >\n      {title}\n    </button>\n  );\n};\n\nexport default LoadButton;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getTodosData } from './helpers/api';\nimport { setTodos } from './store/todos';\nimport { setLoading } from './store/loading';\nimport { TodoList } from './components/TodoList';\nimport { isLoading, isLoaded, getErrorMessage } from './store/';\nimport { setLoaded } from './store/loaded';\nimport { setErrorMessage } from './store/errorMessage';\nimport { Preloader } from './components/Preloader'\n\n\nimport './App.scss';\nimport LoadButton from './components/LoadButton';\n\n\nconst App = () => {\n  const loaded = useSelector(isLoaded);\n  const loading = useSelector(isLoading);\n  const errorMessage = useSelector(getErrorMessage)\n  const dispatch = useDispatch();\n\n  const init = async() => {\n    dispatch(setLoading(true));\n\n    try {\n      const todos = await getTodosData();\n      dispatch(setTodos(todos));\n      dispatch(setLoaded(true));\n    } catch (error) {\n      dispatch(setErrorMessage(`Sorry, something is wrong: ${error}`));\n      dispatch(setLoaded(false));\n    }\n\n    dispatch(setLoading(false));\n  };\n\n  return (\n    <div className=\"App\">\n\n      {(\n        !loading && !loaded) && (\n        <LoadButton title=\"Load\" init={init} />\n      )}\n      {loading && !loaded && (\n      <>\n\n        <Preloader />\n      </>)\n      }\n      {loaded\n        && (errorMessage.length === 0)\n        && (\n          <>\n            <h1>Redux list of todos</h1>\n            <TodoList />\n          </>\n      )}\n\n      {(errorMessage.length > 0) && (\n        <h2>{errorMessage}</h2>\n      )}\n\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}